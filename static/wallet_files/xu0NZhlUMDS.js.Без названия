;/*FB_PKG_DELIM*/

__d("PolarisBloksErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,"[bloks.js] "+b)||this;c&&c.stack&&(b.stack=c.stack);return b}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,"Unable to find component with id="+b)||this}return b}(a);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,"Error while fetching data:",b)||this}return b}(a);d=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,"Script error: "+b)||this}return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,'Component for "'+b+'" was not registered.')||this}return b}(a);var g=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,"Unsupported feature: "+a)||this}return a}(a),h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){return b.call(this,"Script parse error at position "+a+": "+c)||this}return a}(a);f.BloksError=a;f.BloksComponentIdNotFoundError=b;f.BloksDataRequestError=c;f.BloksScriptError=d;f.BloksUnknownComponentError=e;f.BloksUnsupportedFeatureError=g;f.BloksScriptParseError=h}),66);
__d("PolarisBloksDataBinding",["PolarisBloksErrors","Promise","asyncToGeneratorRuntime","guid"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){b=b[a];if(!b)throw new(d("PolarisBloksErrors").BloksUnsupportedFeatureError)('Manifest data source type of "'+a+'"');return b}function i(a,b){var c=new Map();for(a of a.entries()){var d=a[0],e=a[1],f=h(e.type,b);c.set(d,f.initialValue(e).value)}return c}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=[];for(a of a.values()){var f=h(a.type,c);e.push(f.resolve(a))}try{f=(yield b("Promise").all(e));return new Map(f.map(function(a){var b=a.id;a=a.value;return[b,a]}))}catch(a){throw new(d("PolarisBloksErrors").BloksDataRequestError)(a)}});return k.apply(this,arguments)}a=function(){function a(a){this.$1=a,this.$3=new Map(),this.$4=function(){},this.$5=c("guid")()}var e=a.prototype;e.initialize=function(a,b,c){a===void 0&&(a=[]);b===void 0&&(b=[]);c===void 0&&(c={});a=a.map(function(a){return[a.id,a]});b=b.map(function(a){return[a.id,{data:{value:c[a.name]},id:a.id,type:"scalar_native_prop"}]});this.$2=new Map(a.concat(b));this.$3=i(this.$2,this.$1);this.snapshot();a=this.$1.gs;a!=null&&a.registerManifest(this)};e.subscribe=function(a){var b=this;this.$4=a;a=function(){b.$4=function(){}};return{unsubscribe:a}};e.getID=function(){return this.$5};e.getSnapshot=function(){return this.$3};e.getManifest=function(){return this.$2};e.getVariable=function(a){if(!this.$3)throw new(d("PolarisBloksErrors").BloksError)('Cannot call "getVariable" before initializing manifest.');return this.$3.get(a)};e.getGlobalStore=function(){return this.$1.gs};e.getLocalStore=function(){return this.$1.ls};e.snapshot=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!this.$2)throw new(d("PolarisBloksErrors").BloksError)('Cannot call "snapshot" before initializing manifest.');var a=(yield j(this.$2,this.$1));this.$3=a;this.$4();return a});function c(){return a.apply(this,arguments)}return c}();return a}();g.BloksDataManifest=a}),98);
__d("PolarisBloksAppContext",["PolarisBloksDataBinding","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");var i=c.useCallback,j=c.useContext,k=c.useEffect,l=c.useState,m=h.createContext({layout:{},manifest:new(d("PolarisBloksDataBinding").BloksDataManifest)({})});function a(a){var b=a.children;a=a.context;var c=a.manifest,d=l(),e=d[0],f=d[1],g=i(function(){return f(Object.create(null))},[]);d=babelHelpers["extends"]({},a,{trigger:e});k(function(){var a=c.subscribe(g);return function(){return a.unsubscribe()}},[c,g]);return h.jsx(m.Provider,{value:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.BloksAppContextProvider=a;g.useBloksAppContext=b}),98);
__d("PolarisBloksEnvironmentContext",["nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=h.createContext(null);function a(a){var b=a.children;a=a.environment;return h.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=i(j);return c("nullthrows")(a)}g.BloksEnvironmentProvider=a;g.useBloksEnvironment=b}),98);
__d("PolarisBloksErrorRenderer",["PolarisIGTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.error;return h.jsxs("div",{style:{backgroundColor:d("PolarisIGTheme.react").useThemeColor("ig-error-or-destructive"),borderRadius:8,flexDirection:"column",flexGrow:1,margin:16,overflow:"hidden",padding:16},children:[h.jsx("div",{style:{color:"white",fontWeight:"bolder",justifyContent:"center"},children:"[fb-only] Bloks Render error"}),h.jsx("div",{style:{color:"white",fontSize:"75%",fontWeight:"bolder",justifyContent:"center"},children:"this will throw in production"}),h.jsx("pre",{style:{backgroundColor:d("PolarisIGTheme.react").useThemeColor("ig-primary-background"),borderRadius:4,flexGrow:1,fontFamily:"monospace",marginTop:16,overflow:"scroll",padding:16},children:a.stack})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisBloksNode",["PolarisBloksEnvironmentContext","PolarisBloksErrorRenderer","guid","nullthrows","react","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function l(a){var b=Object.keys(a)[0];return[a[b],b]}function m(a){a=l(a);a=a[0];return a.id!=null?String(a.id):null}function n(a){var b=d("PolarisBloksEnvironmentContext").useBloksEnvironment(),c=k(),e=c[0],f=c[1];i(function(){var c=m(a);return c==null?function(){}:b.replacementNodes.listen(c,f)},[b,a,f]);c=m(a);if(c==null)return a;return e!=null?e:a}var o=0;function p(a){var b=j(null),d=j(null);(b.current==null||d.current!==a)&&(b.current=o++);d.current=a;return c("nullthrows")(b.current)}function q(a){var b=d("PolarisBloksEnvironmentContext").useBloksEnvironment(),e=n(a.node),f=p(e);if(Array.isArray(e))return h.jsx(r,{nodes:e},f);try{a=l(e);var g=a[0];a=a[1];a=b.getComponentForName(a);var i;g.extensions!=null&&(i=g.extensions.map(function(a,c){try{var d=l(a);d[0];d=d[1];var g=b.getComponentForName(d);c=d+f+c;return h.jsx(g,{node:babelHelpers["extends"]({},a,(g={},g[d]=babelHelpers["extends"]({},a[d],{parent:e}),g))},c)}catch(a){}}));if(m(e)==null){g=babelHelpers["extends"]({},e);var j=Object.keys(g)[0];g[j].id=c("guid")();return h.jsxs(h.Fragment,{children:[h.jsx(a,{node:g},f),i]})}return h.jsxs(h.Fragment,{children:[h.jsx(a,{node:e},f),i]})}catch(a){throw a}}q.displayName=q.name+" [from "+f.id+"]";function r(a){a=a.nodes;return a.map(function(a,b){return h.jsx(q,{node:a},b)})}r.displayName=r.name+" [from "+f.id+"]";function a(a){a=a.node;var b=p(a);return Array.isArray(a)?h.jsx(r,{nodes:a},b):h.jsx(q,{node:a},b)}a.displayName=a.name+" [from "+f.id+"]";g.getNode=l;g.getNodeId=m;g.BloksNode=a}),98);
__d("PolarisBloksEnvironmentUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.type==="gs"||a.type==="mock"}function b(a){return a.type==="ls"||a.type==="mock"}function c(a){return a.type==="scalar_native_prop"||a.type==="mock"}f.isGlobalStoreEntry=a;f.isLocalStoreEntry=b;f.isScalarNativePropEntry=c}),66);
__d("PolarisBloksGlobalStore",["PolarisBloksEnvironmentUtils","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map();function a(a){var c={get:function(a){return h.get(a)},initialValue:function(b){var c=b.data,e=b.id;if(!d("PolarisBloksEnvironmentUtils").isGlobalStoreEntry(b)||c.initial==null&&c.initial_lispy==null||c.key===void 0)return{id:e,value:null};b=c.key;if(h.has(b))return{id:e,value:h.get(b)};b=null;c.initial!=null&&(b=c.initial);c.initial_lispy!=null&&(b=a.execute(c.initial_lispy));h.set(e,b);return{id:e,value:b}},registerManifest:function(a){i.set(a.getID(),a)},reset:function(){h.clear()},resolve:function(a){return b("Promise").resolve(c.initialValue(a))},set:function(a,b,c){h.set(a,b);c.snapshot();for(var a=i.entries(),b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e[0];e=e[1];e.getID()!==c.getID()&&e.snapshot()}}};return{gs:c}}g.globalStoreModule=a}),98);
__d("PolarisBloksLocalStore",["PolarisBloksEnvironmentUtils","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=new Map(),e={get:function(a){return c.get(a)},initialValue:function(b){var e=b.data,f=b.id;if(!d("PolarisBloksEnvironmentUtils").isLocalStoreEntry(b)||e.initial==null&&e.initial_lispy==null)return{id:f,value:null};if(c.has(f))return{id:f,value:c.get(f)};b=null;e.initial!=null&&(b=e.initial);e.initial_lispy!=null&&(b=a.execute(e.initial_lispy));c.set(f,b);return{id:f,value:b}},registerManifest:function(){},resolve:function(a){return b("Promise").resolve(e.initialValue(a))},set:function(a,b,d){c.set(a,b),d.snapshot()},store:c};return{ls:e}}g.localStoreModule=a}),98);
__d("PolarisBloksScreenManager",["PolarisBloksDataBinding","PolarisBloksGlobalStore","PolarisBloksLocalStore","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(){function a(a,b){a===void 0&&(a=[]),b===void 0&&(b=!1),this.$1=new Set(),this.$2=[].concat(a),this.$4=b,this.$3=[]}var b=a.prototype;b.push=function(a,b){if(this.$2.length>0&&a===null)return;var c=null;if(a!=null&&!h.isValidElement(a.screen)){b=new(d("PolarisBloksDataBinding").BloksDataManifest)(babelHelpers["extends"]({},d("PolarisBloksGlobalStore").globalStoreModule(b),d("PolarisBloksLocalStore").localStoreModule(b),b.environment.dataModules));b.initialize();c={layout:{},manifest:b}}b=a!=null?babelHelpers["extends"]({},a,{index:this.$2.length}):a;b!=null&&c!=null&&(b=babelHelpers["extends"]({},b,{appContext:c}));this.$2=[].concat(this.$2,[b]);this.$5()};b.pop=function(){this.$2=this.$2.slice(0,-1);var a=this.$3.pop();a!=null&&a();this.$5()};b.clear=function(){this.$2=[],this.$3.reverse().forEach(function(a){a!=null&&a()}),this.$3=[],this.$5()};b.listen=function(a){this.$1.add(a)};b.unlisten=function(a){this.$1["delete"](a)};b.getScreenCount=function(){return this.$2.length};b.setOnDismissCallback=function(a,b){var c=this.$3.length,d=a;while(c<d)this.$3[c]=null,c++;this.$3[a]=b};b.$5=function(){var a=this.$2.filter(Boolean);this.$4||(a=a.slice(-1));for(var b=this.$1,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e(a)}};return a}();g.BloksScreenManager=a}),98);
__d("PolarisBloksRenderContext",["PolarisBloksScreenManager","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=d("react").useContext;c={modalManager:new(d("PolarisBloksScreenManager").BloksScreenManager)(),params:{},screenManager:new(d("PolarisBloksScreenManager").BloksScreenManager)()};var i=b.createContext(c);function a(){return h(i)}g.DEFAULT_CONTEXT=c;g.BloksReactContext=i;g.useBloksRenderContext=a}),98);
__d("PolarisBloksRenderer",["PolarisBloksAppContext","PolarisBloksNode","PolarisBloksRenderContext","PolarisBloksScreenManager","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState,m=h.createContext({}),n=h.createContext();function o(a,b){a===void 0&&(a=[]);b===void 0&&(b=!1);var c=l(a),e=c[0],f=c[1],g=k(null);g.current==null&&(g.current=new(d("PolarisBloksScreenManager").BloksScreenManager)(a,b));i(function(){function a(a){f(a)}g.current.listen(a);return function(){g.current.unlisten(a)}},[]);return[e,g]}function p(a){a=a.screen;return h.isValidElement(a.screen)?a.screen:h.jsx(d("PolarisBloksNode").BloksNode,{node:a.screen})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.initialScreen,c=a.node,e=a.params;a=[];c&&a.push(null);b&&a.push(b);b=o(a,!0);a=b[0];var f=b[1];b=o();var g=b[0],i=b[1];b=j(function(){return{modalManager:i.current,params:e||d("PolarisBloksRenderContext").DEFAULT_CONTEXT.params,screenManager:f.current}},[e,f,i]);a=a[a.length-1];var k=null;a!=null&&(k=h.jsx(m.Provider,{value:a.params,children:h.jsx(p,{screen:a})}),a.appContext!=null&&(k=h.jsx(d("PolarisBloksAppContext").BloksAppContextProvider,{context:a.appContext,children:k})));return h.jsxs(d("PolarisBloksRenderContext").BloksReactContext.Provider,{value:b,children:[c&&!a&&h.jsx(d("PolarisBloksNode").BloksNode,{node:c}),k,g.filter(Boolean).map(function(a,b){var c=h.jsx(p,{screen:a});a.appContext!=null&&(c=h.jsx(d("PolarisBloksAppContext").BloksAppContextProvider,{context:a.appContext,children:c}));return h.jsx(m.Provider,{value:a.params,children:h.jsx(n.Provider,{value:a.index,children:c})},b)})]})}a.displayName=a.name+" [from "+f.id+"]";g.ScreenParamsContext=m;g.ScreenIndexContext=n;g.BloksRenderer=a}),98);
__d("PolarisIGBloksRenderer",["CometPlaceholder.react","IGDSDialogBackwardsCompatibilityWrapper.react","JSResource","PolarisBloksRenderer","PolarisDirectActionMessageFromProfile","PolarisReactRedux","PolarisReportConstants","PolarisToastActions","PolarisToastWrapper.react","lazyLoadComponent","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState,m=c("JSResource")("PolarisFRXReportModal.react").__setRef("PolarisIGBloksRenderer"),n=c("lazyLoadComponent")(m);function a(a){var b=d("PolarisReactRedux").useDispatch(),e=k(!1),g=l({onReportSuccess:function(){},reportedUserID:null,showFRXModal:!1}),o=g[0],p=g[1];function q(){p(function(a){return babelHelpers["extends"]({},a,{showFRXModal:!1})}),o.onReportSuccess()}g=j(function(){return{appGetOptions:a.appGetOptions,onCloseConsentFlow:a.onCloseConsentFlow,onIGOpenScreen:a.onIGOpenScreen,onOpenReportUser:function(b,c,a){p({onReportSuccess:c,reportedUserID:b,showFRXModal:!0})},onOpenSendMessage:function(c,a,g){if(e.current)return;a=function(){e.current=!1};e.current=!0;b(d("PolarisDirectActionMessageFromProfile").messageFromProfile(c)).then(a)["catch"](a)},onOpenShareSheetClick:a.onOpenShareSheetClick,onQPClick:a.onQPClick,onResumeStoryPlayback:a.onResumeStoryPlayback,onToast:function(a,c){return b(d("PolarisToastActions").showToast({text:a,toastType:(a=c)!=null?a:"DEFAULT_TOAST"}))}}},[a.appGetOptions,a.onCloseConsentFlow,a.onIGOpenScreen,a.onQPClick,a.onOpenShareSheetClick,a.onResumeStoryPlayback,b]);i(function(){m.preload()},[]);return h.jsxs(h.Fragment,{children:[h.jsx(d("PolarisBloksRenderer").BloksRenderer,{initialScreen:a.initialScreen,node:a.node,params:g}),h.jsx(c("PolarisToastWrapper.react"),{}),o.showFRXModal&&h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:h.jsx(n,{frxLocation:d("PolarisReportConstants").FRXLocation.PROFILE,frxObjectType:d("PolarisReportConstants").FRXObjectType.USER,onClose:function(){return q()},reportedObjectID:c("nullthrows")(o.reportedUserID),reportedOwner:{id:c("nullthrows")(o.reportedUserID),profilePicURL:null,username:null}})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);